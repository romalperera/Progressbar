function addwidth(t){var e=parseInt(document.getElementById("ddselect").value),n=document.getElementById("label"+e).innerHTML;t=parseInt(t)+parseInt(n),t>=100?(document.getElementById("mybar"+e).style.backgroundColor="red",document.getElementById("mybar"+e).style.width="100%",document.getElementById("label"+e).innerHTML=t+"%"):100>=t&&t>0?(document.getElementById("mybar"+e).style.backgroundColor="#364de4",document.getElementById("mybar"+e).style.width=t+"%",document.getElementById("label"+e).innerHTML=t+"%"):0>=t&&(document.getElementById("mybar"+e).style.width="0%",document.getElementById("label"+e).innerHTML="0%")}var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);btn1.innerHTML=t.buttons[0],btn1.setAttribute("value",t.buttons[0]),btn2.innerHTML=t.buttons[1],btn2.setAttribute("value",t.buttons[1]),btn3.innerHTML=t.buttons[2],btn3.setAttribute("value",t.buttons[2]),btn4.innerHTML=t.buttons[3],btn4.setAttribute("value",t.buttons[3]);for(var e=0;e<t.bars.length;e++){var n=document.createElement("div"),d=document.getElementById("content");d.appendChild(n),n.setAttribute("class","Progressbar"),n.setAttribute("id","progress"+e);var a=document.createElement("div");n.appendChild(a),a.setAttribute("class","colorbar"),a.setAttribute("id","mybar"+e),a.style.width=t.bars[e]+"%";var r=document.createElement("label");a.appendChild(r),r.setAttribute("class","clabel"),r.setAttribute("id","label"+e),r.innerHTML=t.bars[e]+"%"}var s=document.createElement("select"),i=document.getElementById("sel");i.appendChild(s),s.setAttribute("id","ddselect");for(var e=0;e<t.bars.length;e++){var l=document.createElement("option");s.appendChild(l),l.setAttribute("id","ddl"+e),l.setAttribute("value",e),l.innerHTML="progessbar "+(1+e)}}},btn1.addEventListener("click",function(){addwidth(this.value)}),btn2.addEventListener("click",function(){addwidth(this.value)}),btn3.addEventListener("click",function(){addwidth(this.value)}),btn4.addEventListener("click",function(){addwidth(this.value)}),xhttp.open("GET","http://pb-api.herokuapp.com/bars"),xhttp.send();